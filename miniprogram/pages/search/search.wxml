<view class="container">
  <!-- 登录用户信息 -->
  <view class="user-info" wx:if="{{isLoggedIn}}">
    <image class="avatar" src="{{userInfo.avatarUrl}}"></image>
    <text class="nickname">欢迎，{{userInfo.nickName}}</text>
  </view>

  <!-- 查询表单 -->
  <view class="search-form">
    <input
      type="text"
      placeholder="请输入查询关键词（如：宝马、SUV、10万以下）"
      value="{{searchKeyword}}"
      bindinput="onKeywordInput"
      class="search-input"
    />
    <view class="btn-group">
      <button
        bindtap="searchCar"
        class="search-btn"
        disabled="{{isLoading}}"
      >
        {{isLoading ? '查询中...' : '查询汽车'}}
      </button>
      <button bindtap="resetSearch" class="reset-btn">重置</button>
    </view>
  </view>

  <!-- 查询结果 -->
  <view class="result-wrap" wx:if="{{hasResult}}">
    <view class="result-title">查询结果（共 {{carList.length}} 辆）</view>
    <view
      class="car-item"
      wx:for="{{carList}}"
      wx:key="id"
      bindtap="viewCarDetail"
      data-carid="{{item.id}}"
    >
      <image class="car-img" src="{{item.carImage}}" mode="aspectFill"></image>
      <view class="car-info">
        <text class="car-name">{{item.brand}} {{item.model}}</text>
        <text class="car-price">价格：¥{{item.price}} 万</text>
        <text class="car-mileage">里程：{{item.mileage}} 万公里</text>
      </view>
    </view>
  </view>

  <!-- 无结果提示 -->
  <view class="no-result" wx:if="{{!hasResult && searchKeyword}}">
    未查询到相关车辆，请更换关键词重试
  </view>
</view>